---
# yaml-language-server: $schema=https://kubernetes-schemas.pages.dev/canaries.flanksource.com/canary_v1.json
apiVersion: canaries.flanksource.com/v1
kind: Canary
metadata:
  name: http-check-immich
  namespace: immich
spec:
  schedule: "@every 1m"
  http:
    - name: immich-gateway-health
      url: https://immich.${external_domain}
      responseCodes: [200]
      maxSSLExpiry: 7
      thresholdMillis: 5000
