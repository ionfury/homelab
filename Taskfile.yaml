version: "3"

vars:
  PROJECT_DIR:
    sh: "git rev-parse --show-toplevel"
  CLUSTERS_DIR: "{{.PROJECT_DIR}}/clusters"
  MANIFESTS_DIR: "{{.PROJECT_DIR}}/manifests"
  APPS_DIR: "{{.MANIFESTS_DIR}}/apps"
  TERRAFORM_DIR: "{{.PROJECT_DIR}}/terraform"

includes:
  flux: .taskfiles/flux-tasks.yaml
  terragrunt: .taskfiles/terragrunt-tasks.yaml
  kubeconform: .taskfiles/kubeconform-tasks.yaml
